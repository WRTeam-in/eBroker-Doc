"use strict";(self.webpackChunkdocusaurus_docs=self.webpackChunkdocusaurus_docs||[]).push([[3547],{879:(e,i,s)=>{s.d(i,{A:()=>n});const n=s.p+"assets/images/select_firebase_platforms-4ad6de7e5d933040ec3a06e58638c077.png"},1579:(e,i,s)=>{s.d(i,{A:()=>n});const n=s.p+"assets/images/command_run_firebase-fa60db67001a0681e311c8f7264cf0d7.png"},2231:(e,i,s)=>{s.d(i,{A:()=>n});const n=s.p+"assets/images/enable_fcm_xcode-8f777c8fe07f30ceed9366188bdbdea4.png"},3054:(e,i,s)=>{s.d(i,{A:()=>n});const n=s.p+"assets/images/firebase_create_project-eb157f2d0d89de3114ac209a9dc67f1d.png"},3124:(e,i,s)=>{s.d(i,{A:()=>n});const n=s.p+"assets/images/override_existing_firebase-ff030cfc475f3b7dc02472cd86a2e2f9.png"},4020:(e,i,s)=>{s.d(i,{A:()=>n});const n=s.p+"assets/images/xcode_notification_2-506094cb4a36b00bb26f63d6e32aaee1.png"},4035:(e,i,s)=>{s.d(i,{A:()=>n});const n=s.p+"assets/images/xcode_notification-927c2db6f83ea4d9a39e7542ef739899.png"},4612:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"app/firebase-setup","title":"Firebase Setup","description":"Overview","source":"@site/docs/app/firebase-setup.md","sourceDirName":"app","slug":"/app/firebase-setup","permalink":"/docs/app/firebase-setup","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Change App Icon","permalink":"/docs/app/change-app-icon"},"next":{"title":"Map API Key and Place API","permalink":"/docs/app/maps-setup"}}');var t=s(4848),a=s(8453);const r={sidebar_position:2},o="Firebase Setup",c={},d=[{value:"Overview",id:"overview",level:2},{value:"Create Firebase Project",id:"create-firebase-project",level:2},{value:"Enable Phone Authentication",id:"enable-phone-authentication",level:2},{value:"Resolving &quot;missing-client-identifier&quot; Issues",id:"resolving-missing-client-identifier-issues",level:3},{value:"Setup Notifications",id:"setup-notifications",level:2},{value:"iOS Notification Setup",id:"ios-notification-setup",level:3}];function l(e){const i={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"firebase-setup",children:"Firebase Setup"})}),"\n",(0,t.jsx)(i.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(i.p,{children:"Firebase is essential for eBroker app's authentication and notification features. This guide will walk you through setting up Firebase for your app."}),"\n",(0,t.jsx)(i.h2,{id:"create-firebase-project",children:"Create Firebase Project"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["Visit ",(0,t.jsx)(i.a,{href:"https://firebase.google.com/",children:"Firebase Console"})]}),"\n",(0,t.jsx)(i.li,{children:"Sign in with your Google account"}),"\n",(0,t.jsx)(i.li,{children:'Click on "Add project" button'}),"\n",(0,t.jsx)(i.li,{children:"Enter a project name and choose a suitable project ID"}),"\n",(0,t.jsx)(i.li,{children:'Select your country/region and click "Create Project"'}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"Firebase Create Project",src:s(3054).A+"",width:"1920",height:"860"})}),"\n",(0,t.jsxs)(i.ol,{start:"6",children:["\n",(0,t.jsx)(i.li,{children:"Tap on the Flutter icon to add Flutter to your Firebase project"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"Firebase Flutter",src:s(9848).A+"",width:"1906",height:"853"})}),"\n",(0,t.jsxs)(i.ol,{start:"7",children:["\n",(0,t.jsx)(i.li,{children:"Open your IDE (VS Code, Android Studio, etc.) and run these commands in the terminal:"}),"\n"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"flutter pub add firebase_core\nflutter pub add firebase_auth\n"})}),"\n",(0,t.jsxs)(i.ol,{start:"8",children:["\n",(0,t.jsx)(i.li,{children:"Copy and paste both commands one by one like this:"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"Firebase Command Run",src:s(1579).A+"",width:"1885",height:"248"})}),"\n",(0,t.jsxs)(i.blockquote,{children:["\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.strong,{children:"Important:"})," Make sure to change your package name first before setting up Firebase!"]}),"\n"]}),"\n",(0,t.jsxs)(i.ol,{start:"9",children:["\n",(0,t.jsx)(i.li,{children:"Select Android, iOS, and Web platforms when prompted"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"Select Firebase Platforms",src:s(879).A+"",width:"893",height:"473"})}),"\n",(0,t.jsxs)(i.ol,{start:"10",children:["\n",(0,t.jsx)(i.li,{children:'If asked to override existing Firebase settings, type "yes" and press Enter'}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"Override Existing Firebase",src:s(3124).A+"",width:"1483",height:"404"})}),"\n",(0,t.jsx)(i.h2,{id:"enable-phone-authentication",children:"Enable Phone Authentication"}),"\n",(0,t.jsx)(i.p,{children:"Phone authentication is critical for the app's login functionality. Follow these steps:"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsx)(i.li,{children:"In the Firebase console, go to the Authentication section"}),"\n",(0,t.jsx)(i.li,{children:"Turn on phone login as shown below:"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"Firebase Auth",src:s(7646).A+"",width:"1909",height:"857"})}),"\n",(0,t.jsxs)(i.ol,{start:"3",children:["\n",(0,t.jsx)(i.li,{children:"Enable Firebase phone auth by tapping the switch button:"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"Enable Firebase Auth",src:s(6044).A+"",width:"1909",height:"859"})}),"\n",(0,t.jsxs)(i.ol,{start:"4",children:["\n",(0,t.jsx)(i.li,{children:"For testing purposes, add Firebase testing phone numbers to avoid temporary blocks"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"Firebase Testing",src:s(4858).A+"",width:"1906",height:"858"})}),"\n",(0,t.jsx)(i.h3,{id:"resolving-missing-client-identifier-issues",children:'Resolving "missing-client-identifier" Issues'}),"\n",(0,t.jsx)(i.p,{children:'When using real phone numbers, you might encounter a "missing-client-identifier" error. To resolve:'}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsx)(i.li,{children:"Open your terminal in the project location and run:"}),"\n"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"cd android\n./gradlew signinReport\n"})}),"\n",(0,t.jsxs)(i.ol,{start:"2",children:["\n",(0,t.jsx)(i.li,{children:"Copy the SHA1 and SHA256 keys from the result:"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"SHA Key",src:s(8824).A+"",width:"1031",height:"723"})}),"\n",(0,t.jsxs)(i.ol,{start:"3",children:["\n",(0,t.jsx)(i.li,{children:"Add these keys to your Firebase project settings:"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"Add SHA Key",src:s(4732).A+"",width:"1881",height:"879"})}),"\n",(0,t.jsx)(i.h2,{id:"setup-notifications",children:"Setup Notifications"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsx)(i.li,{children:"Get the server key from your Firebase project"}),"\n",(0,t.jsx)(i.li,{children:"Go to Project Settings \u2192 Cloud Messaging \u2192 Manage API on Google Cloud Console"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"Enable FCM",src:s(8718).A+"",width:"3677",height:"1079"})}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"FCM Server Key",src:s(9840).A+"",width:"2070",height:"1526"})}),"\n",(0,t.jsxs)(i.ol,{start:"3",children:["\n",(0,t.jsx)(i.li,{children:"Copy the server key:"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"FCM Server Key Get",src:s(8817).A+"",width:"3640",height:"1534"})}),"\n",(0,t.jsxs)(i.ol,{start:"4",children:["\n",(0,t.jsx)(i.li,{children:"Set the key in your admin panel's Notification FCM key field:"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"FCM Set Admin",src:s(6013).A+"",width:"1909",height:"860"})}),"\n",(0,t.jsx)(i.h3,{id:"ios-notification-setup",children:"iOS Notification Setup"}),"\n",(0,t.jsx)(i.p,{children:"For iOS devices, complete these additional steps:"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsx)(i.li,{children:"In Xcode, open your project"}),"\n",(0,t.jsx)(i.li,{children:"Select the project icon representing your app"}),"\n",(0,t.jsx)(i.li,{children:"Select your app's target"}),"\n",(0,t.jsx)(i.li,{children:"Navigate to the Capabilities tab"}),"\n",(0,t.jsx)(i.li,{children:"Enable Push Notifications"}),"\n",(0,t.jsx)(i.li,{children:"Check Remote Notifications and Background Fetch from Enabling Background Modes"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"Xcode Notification",src:s(4035).A+"",width:"1181",height:"797"})}),"\n",(0,t.jsx)(i.p,{children:"Apple's Push Notification service (APNs) supports two connection types. For token-based (.p8):"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsx)(i.li,{children:"Log in to the Apple Developer Portal"}),"\n",(0,t.jsx)(i.li,{children:"Navigate to Certificates, IDs & Profiles > Identifiers > App IDs"}),"\n",(0,t.jsx)(i.li,{children:"Check Capabilities > Push Notifications"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"Enable FCM Xcode",src:s(2231).A+"",width:"1144",height:"879"})}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"Xcode Notification 2",src:s(4020).A+"",width:"2015",height:"1070"})}),"\n",(0,t.jsxs)(i.ol,{start:"4",children:["\n",(0,t.jsx)(i.li,{children:"Navigate to Keys Section and add a Universal key for Notifications"}),"\n",(0,t.jsx)(i.li,{children:"Download the .p8 file and keep it safe (it can only be downloaded once)"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"APN Updated",src:s(5017).A+"",width:"1606",height:"821"})}),"\n",(0,t.jsxs)(i.ol,{start:"6",children:["\n",(0,t.jsx)(i.li,{children:"Add this .p8 file to Firebase along with your Key ID and Team ID"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.img,{alt:"Add P8 in Firebase",src:s(7618).A+"",width:"1637",height:"890"})})]})}function h(e={}){const{wrapper:i}={...(0,a.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},4732:(e,i,s)=>{s.d(i,{A:()=>n});const n=s.p+"assets/images/add_sha_key-542838a4a443a2754c43cbccb240c395.png"},4858:(e,i,s)=>{s.d(i,{A:()=>n});const n=s.p+"assets/images/firebase_testing-358290e6e2559df92957fc4e0f604e1f.png"},5017:(e,i,s)=>{s.d(i,{A:()=>n});const n=s.p+"assets/images/apn_updated-378d12bff971875b3c2ea6625fb7d015.png"},6013:(e,i,s)=>{s.d(i,{A:()=>n});const n=s.p+"assets/images/fcm_set_admin-c0094d68794cf6af1ddca75f5902a808.png"},6044:(e,i,s)=>{s.d(i,{A:()=>n});const n=s.p+"assets/images/enable_firebase_auth-9f2e6fe6865b2575f862ad443bd5140b.png"},7618:(e,i,s)=>{s.d(i,{A:()=>n});const n=s.p+"assets/images/add_p8_in_firebase-e1289e23975a1b46296fcec242abd23d.png"},7646:(e,i,s)=>{s.d(i,{A:()=>n});const n=s.p+"assets/images/firebase_auth-62269a3fb21e91343c98945057b97691.png"},8453:(e,i,s)=>{s.d(i,{R:()=>r,x:()=>o});var n=s(6540);const t={},a=n.createContext(t);function r(e){const i=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),n.createElement(a.Provider,{value:i},e.children)}},8718:(e,i,s)=>{s.d(i,{A:()=>n});const n=s.p+"assets/images/enable_fcm-70b2303f192871be24ab8d26f2a4685d.png"},8817:(e,i,s)=>{s.d(i,{A:()=>n});const n=s.p+"assets/images/fcm_server_key_get-0674790c01c3b45550cad9384f86a781.png"},8824:(e,i,s)=>{s.d(i,{A:()=>n});const n=s.p+"assets/images/sha_key-6dd6327cd3df6b3f48fab7c7d51fa4a6.png"},9840:(e,i,s)=>{s.d(i,{A:()=>n});const n=s.p+"assets/images/fcm_server_key-47f411c4550371d767f79c7cefcda915.png"},9848:(e,i,s)=>{s.d(i,{A:()=>n});const n=s.p+"assets/images/firebase_flutter-35ad1032f930cbbec30022485a19c432.png"}}]);