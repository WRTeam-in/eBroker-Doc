"use strict";(globalThis.webpackChunkdocusaurus_docs=globalThis.webpackChunkdocusaurus_docs||[]).push([[3547],{879:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/select_firebase_platforms-4ad6de7e5d933040ec3a06e58638c077.png"},1579:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/command_run_firebase-fa60db67001a0681e311c8f7264cf0d7.png"},2351:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/add_sha_key-542838a4a443a2754c43cbccb240c395.png"},3054:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/firebase_create_project-eb157f2d0d89de3114ac209a9dc67f1d.png"},3124:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/override_existing_firebase-ff030cfc475f3b7dc02472cd86a2e2f9.png"},4020:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/xcode_notification_2-506094cb4a36b00bb26f63d6e32aaee1.png"},4035:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/xcode_notification-927c2db6f83ea4d9a39e7542ef739899.png"},4612:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/enable_fcm_xcode-8f777c8fe07f30ceed9366188bdbdea4.png"},4858:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/firebase_testing-358290e6e2559df92957fc4e0f604e1f.png"},5017:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/apn_updated-378d12bff971875b3c2ea6625fb7d015.png"},6044:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/enable_firebase_auth-9f2e6fe6865b2575f862ad443bd5140b.png"},7618:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/add_p8_in_firebase-e1289e23975a1b46296fcec242abd23d.png"},7646:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/firebase_auth-62269a3fb21e91343c98945057b97691.png"},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>a});var i=s(6540);const r={},t=i.createContext(r);function o(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(t.Provider,{value:n},e.children)}},8824:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/sha_key-6dd6327cd3df6b3f48fab7c7d51fa4a6.png"},9542:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"app/firebase-setup","title":"Firebase Setup","description":"Overview","source":"@site/docs/app/firebase-setup.md","sourceDirName":"app","slug":"/app/firebase-setup","permalink":"/eBroker-Doc/docs/app/firebase-setup","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Change App Icon","permalink":"/eBroker-Doc/docs/app/change-app-icon"},"next":{"title":"Map API Key and Place API","permalink":"/eBroker-Doc/docs/app/maps-setup"}}');var r=s(4848),t=s(8453);const o={sidebar_position:2},a="Firebase Setup",l={},d=[{value:"Overview",id:"overview",level:2},{value:"Create Firebase Project",id:"create-firebase-project",level:2},{value:"Enable Phone Authentication",id:"enable-phone-authentication",level:2},{value:"Create Keystore for App Signing",id:"create-keystore-for-app-signing",level:2},{value:"Generate JKS File",id:"generate-jks-file",level:3},{value:"Create key.properties File",id:"create-keyproperties-file",level:3},{value:"Resolving &quot;missing-client-identifier&quot; Issues",id:"resolving-missing-client-identifier-issues",level:3},{value:"iOS Notification Setup",id:"ios-notification-setup",level:3}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"firebase-setup",children:"Firebase Setup"})}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"Firebase is essential for eBroker app's authentication and notification features. This guide will walk you through setting up Firebase for your app."}),"\n",(0,r.jsx)(n.h2,{id:"create-firebase-project",children:"Create Firebase Project"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Visit ",(0,r.jsx)(n.a,{href:"https://firebase.google.com/",children:"Firebase Console"})]}),"\n",(0,r.jsx)(n.li,{children:"Sign in with your Google account"}),"\n",(0,r.jsx)(n.li,{children:'Click on "Add project" button'}),"\n",(0,r.jsx)(n.li,{children:"Enter a project name and choose a suitable project ID"}),"\n",(0,r.jsx)(n.li,{children:'Select your country/region and click "Create Project"'}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Firebase Create Project",src:s(3054).A+"",width:"1920",height:"860"})}),"\n",(0,r.jsxs)(n.ol,{start:"6",children:["\n",(0,r.jsx)(n.li,{children:"Tap on the Flutter icon to add Flutter to your Firebase project"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Firebase Flutter",src:s(9848).A+"",width:"1906",height:"853"})}),"\n",(0,r.jsxs)(n.ol,{start:"7",children:["\n",(0,r.jsx)(n.li,{children:"Open your IDE (VS Code, Android Studio, etc.) and run these commands in the terminal:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"flutter pub add firebase_core\nflutter pub add firebase_auth\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"8",children:["\n",(0,r.jsx)(n.li,{children:"Copy and paste both commands one by one like this:"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Firebase Command Run",src:s(1579).A+"",width:"1885",height:"248"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Important:"})," Make sure to change your package name first before setting up Firebase!"]}),"\n"]}),"\n",(0,r.jsxs)(n.ol,{start:"9",children:["\n",(0,r.jsx)(n.li,{children:"Select Android, iOS, and Web platforms when prompted"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Select Firebase Platforms",src:s(879).A+"",width:"893",height:"473"})}),"\n",(0,r.jsxs)(n.ol,{start:"10",children:["\n",(0,r.jsx)(n.li,{children:'If asked to override existing Firebase settings, type "yes" and press Enter'}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Override Existing Firebase",src:s(3124).A+"",width:"1483",height:"404"})}),"\n",(0,r.jsx)(n.h2,{id:"enable-phone-authentication",children:"Enable Phone Authentication"}),"\n",(0,r.jsx)(n.p,{children:"Phone authentication is critical for the app's login functionality. Follow these steps:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"In the Firebase console, go to the Authentication section"}),"\n",(0,r.jsx)(n.li,{children:"Turn on phone login as shown below:"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Firebase Auth",src:s(7646).A+"",width:"1909",height:"857"})}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsx)(n.li,{children:"Enable Firebase phone auth by tapping the switch button:"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Enable Firebase Auth",src:s(6044).A+"",width:"1909",height:"859"})}),"\n",(0,r.jsxs)(n.ol,{start:"4",children:["\n",(0,r.jsx)(n.li,{children:"For testing purposes, add Firebase testing phone numbers to avoid temporary blocks"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Firebase Testing",src:s(4858).A+"",width:"1906",height:"858"})}),"\n",(0,r.jsx)(n.h2,{id:"create-keystore-for-app-signing",children:"Create Keystore for App Signing"}),"\n",(0,r.jsx)(n.p,{children:"To release your Android app, you need to create a keystore file (.jks) and configure the key.properties file."}),"\n",(0,r.jsx)(n.h3,{id:"generate-jks-file",children:"Generate JKS File"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Open your terminal in the project location and run the following command:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"keytool -genkey -v -keystore ~/upload-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"You'll be prompted to enter the following information:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Keystore password"}),": Create a strong password and remember it"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Re-enter password"}),": Confirm your password"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"First and Last name"}),": Enter your name or company name"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Organizational unit"}),": Enter your department/unit (optional)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Organization"}),": Enter your company name (optional)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"City or Locality"}),": Enter your city"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"State or Province"}),": Enter your state"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Country Code"}),": Enter your two-letter country code (e.g., US, IN, UK)"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:'After entering all information, confirm by typing "yes"'}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["The keystore file will be created in your home directory (",(0,r.jsx)(n.code,{children:"~/upload-keystore.jks"}),")"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Move the keystore file to your project's ",(0,r.jsx)(n.code,{children:"android/app"})," directory:"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"mv ~/upload-keystore.jks android/app/\n"})}),"\n",(0,r.jsx)(n.h3,{id:"create-keyproperties-file",children:"Create key.properties File"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Navigate to the ",(0,r.jsx)(n.code,{children:"android"})," folder in your project"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Create a new file named ",(0,r.jsx)(n.code,{children:"key.properties"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Add the following content to the file (replace with your actual values):"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",children:"storePassword=your_keystore_password\nkeyPassword=your_key_password\nkeyAlias=upload\nstoreFile=upload-keystore.jks\n"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Important Notes:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Keep your keystore file and passwords secure and never commit them to version control"}),"\n",(0,r.jsxs)(n.li,{children:["Add ",(0,r.jsx)(n.code,{children:"key.properties"})," to your ",(0,r.jsx)(n.code,{children:".gitignore"})," file"]}),"\n",(0,r.jsx)(n.li,{children:"Make a backup of your keystore file - if you lose it, you cannot update your app on Play Store"}),"\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.code,{children:"keyPassword"})," is typically the same as ",(0,r.jsx)(n.code,{children:"storePassword"})," unless you specified different passwords"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"resolving-missing-client-identifier-issues",children:'Resolving "missing-client-identifier" Issues'}),"\n",(0,r.jsx)(n.p,{children:'When using real phone numbers, you might encounter a "missing-client-identifier" error. To resolve:'}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Open your terminal in the project location and run:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd android\n./gradlew signinReport\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsx)(n.li,{children:"Copy the SHA1 and SHA256 keys from the result:"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"SHA Key",src:s(8824).A+"",width:"1031",height:"723"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Important:"})," You will see SHA keys for both ",(0,r.jsx)(n.strong,{children:"debug"})," and ",(0,r.jsx)(n.strong,{children:"release"})," variants in the output. You need to add BOTH sets of keys to Firebase for login to work properly in both development and production environments."]}),"\n"]}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsx)(n.li,{children:"Add these keys to your Firebase project settings:"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Add SHA Key",src:s(2351).A+"",width:"1881",height:"879"})}),"\n",(0,r.jsxs)(n.ol,{start:"4",children:["\n",(0,r.jsxs)(n.li,{children:["Make sure to add:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Debug SHA-1"})," and ",(0,r.jsx)(n.strong,{children:"SHA-256"})," (for testing during development)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Release SHA-1"})," and ",(0,r.jsx)(n.strong,{children:"SHA-256"})," (for production app)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"ios-notification-setup",children:"iOS Notification Setup"}),"\n",(0,r.jsx)(n.p,{children:"For iOS devices, complete these additional steps:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"In Xcode, open your project"}),"\n",(0,r.jsx)(n.li,{children:"Select the project icon representing your app"}),"\n",(0,r.jsx)(n.li,{children:"Select your app's target"}),"\n",(0,r.jsx)(n.li,{children:"Navigate to the Capabilities tab"}),"\n",(0,r.jsx)(n.li,{children:"Enable Push Notifications"}),"\n",(0,r.jsx)(n.li,{children:"Check Remote Notifications and Background Fetch from Enabling Background Modes"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Xcode Notification",src:s(4035).A+"",width:"1181",height:"797"})}),"\n",(0,r.jsx)(n.p,{children:"Apple's Push Notification service (APNs) supports two connection types. For token-based (.p8):"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Log in to the Apple Developer Portal"}),"\n",(0,r.jsx)(n.li,{children:"Navigate to Certificates, IDs & Profiles > Identifiers > App IDs"}),"\n",(0,r.jsx)(n.li,{children:"Check Capabilities > Push Notifications"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Enable FCM Xcode",src:s(4612).A+"",width:"1144",height:"879"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Xcode Notification 2",src:s(4020).A+"",width:"2015",height:"1070"})}),"\n",(0,r.jsxs)(n.ol,{start:"4",children:["\n",(0,r.jsx)(n.li,{children:"Navigate to Keys Section and add a Universal key for Notifications"}),"\n",(0,r.jsx)(n.li,{children:"Download the .p8 file and keep it safe (it can only be downloaded once)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"APN Updated",src:s(5017).A+"",width:"1606",height:"821"})}),"\n",(0,r.jsxs)(n.ol,{start:"6",children:["\n",(0,r.jsx)(n.li,{children:"Add this .p8 file to Firebase along with your Key ID and Team ID"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Add P8 in Firebase",src:s(7618).A+"",width:"1637",height:"890"})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},9848:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/firebase_flutter-35ad1032f930cbbec30022485a19c432.png"}}]);